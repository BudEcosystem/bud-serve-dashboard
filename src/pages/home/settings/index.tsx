"use client";
import { useEffect, useState } from "react";
import DashBoardLayout from "../layout";
import {
  Text_14_600_B3B3B3,
  Text_14_600_EEEEEE,
} from "@/components/ui/text";
import PageHeader from "@/components/ui/pageHeader";
import { useUser } from "src/stores/useUser";
import { Tabs } from "antd";
import Profile from "./profile";
import Notifications from "./notifications";

export default function Settings() {
  const [isHydrated, setIsHydrated] = useState(false);
  const { user } = useUser();

  useEffect(() => {
    setIsHydrated(true);
  }, []);

  useEffect(() => {
    if (isHydrated && user) {
      document.documentElement.style.setProperty("--user-color", user?.color);
    }
  }, [isHydrated, user]);


  const [activeTab, setActiveTab] = useState("1");

  return (
    <DashBoardLayout>
      <div className="boardPageView">
        <div className="boardPageTop">
          <PageHeader
           headding="Settings"
           text="Manage your personal information and adjust notification settings."
          />
        </div>
        <div className="projectDetailsDiv mt-[2.35rem]">
          <Tabs
            defaultActiveKey="1"
            activeKey={activeTab}
            onChange={(key) => setActiveTab(key)}
            items={[
              {
                label: <div className="flex items-center gap-[0.375rem]">
                  {activeTab === '1' ?
                    <svg width=".875rem" height=".875rem" viewBox="0 0 14 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <g clipPath="url(#clip0_3725_4966)">
                        <path fillRule="evenodd" clipRule="evenodd" d="M3.72573 4.072C3.60596 4.05559 3.484 4.04684 3.35986 4.04684C1.91058 4.04684 0.734863 5.22262 0.734863 6.67184C0.734863 8.12112 1.91064 9.29684 3.35986 9.29684H10.2138C11.9042 9.29684 13.2763 7.92473 13.2763 6.23434C13.2763 4.54396 11.9042 3.17184 10.2138 3.17184C10.1274 3.17184 10.0416 3.17513 9.95682 3.18223C9.3897 2.13442 8.28004 1.42188 7.0059 1.42188C5.3959 1.42188 4.04955 2.55821 3.72573 4.072ZM3.94666 5.02302C4.07682 5.06896 4.22064 5.05146 4.33548 4.97544C4.45032 4.89943 4.52251 4.77365 4.53017 4.63583C4.6029 3.33263 5.68407 2.29741 7.00537 2.29741C8.03787 2.29741 8.92323 2.9296 9.29619 3.82817C9.37603 4.02067 9.58111 4.12949 9.78564 4.08958C9.92455 4.06224 10.0673 4.04747 10.2138 4.04747C11.4213 4.04747 12.4013 5.02747 12.4013 6.23497C12.4013 7.44247 11.4213 8.42247 10.2138 8.42247H3.35986C2.39409 8.42247 1.60986 7.63825 1.60986 6.67247C1.60986 5.70669 2.39409 4.92247 3.35986 4.92247C3.56604 4.92247 3.76346 4.95802 3.94666 5.02364V5.02302Z" fill="#EEEEEE" />
                        <path fillRule="evenodd" clipRule="evenodd" d="M7.00588 10.1719C6.20088 10.1719 5.54736 10.8254 5.54736 11.6304C5.54736 12.4354 6.20088 13.0889 7.00588 13.0889C7.81088 13.0889 8.4644 12.4354 8.4644 11.6304C8.4644 10.8254 7.81088 10.1719 7.00588 10.1719ZM7.00588 11.0469C7.328 11.0469 7.5894 11.3083 7.5894 11.6304C7.5894 11.9525 7.328 12.2139 7.00588 12.2139C6.68377 12.2139 6.42236 11.9525 6.42236 11.6304C6.42236 11.3083 6.68377 11.0469 7.00588 11.0469Z" fill="#EEEEEE" />
                        <path fillRule="evenodd" clipRule="evenodd" d="M6.56836 8.85938V10.6094C6.56836 10.8511 6.76414 11.0469 7.00586 11.0469C7.24758 11.0469 7.44336 10.8511 7.44336 10.6094V8.85938C7.44336 8.61765 7.24758 8.42188 7.00586 8.42188C6.76414 8.42188 6.56836 8.61765 6.56836 8.85938Z" fill="#EEEEEE" />
                        <path fillRule="evenodd" clipRule="evenodd" d="M8.02686 12.0703H11.5269C11.7686 12.0703 11.9644 11.8745 11.9644 11.6328C11.9644 11.3911 11.7686 11.1953 11.5269 11.1953H8.02686C7.78513 11.1953 7.58936 11.3911 7.58936 11.6328C7.58936 11.8745 7.78513 12.0703 8.02686 12.0703Z" fill="#EEEEEE" />
                        <path fillRule="evenodd" clipRule="evenodd" d="M2.48486 12.0703H5.98486C6.22659 12.0703 6.42236 11.8745 6.42236 11.6328C6.42236 11.3911 6.22659 11.1953 5.98486 11.1953H2.48486C2.24314 11.1953 2.04736 11.3911 2.04736 11.6328C2.04736 11.8745 2.24314 12.0703 2.48486 12.0703Z" fill="#EEEEEE" />
                      </g>
                      <defs>
                        <clipPath id="clip0_3725_4966">
                          <rect width="14" height="14" fill="white" transform="translate(0.00585938 0.257812)" />
                        </clipPath>
                      </defs>
                    </svg> :
                    <svg width=".875rem" height=".875rem" viewBox="0 0 14 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <g clipPath="url(#clip0_3725_5585)">
                        <path fillRule="evenodd" clipRule="evenodd" d="M3.72573 4.072C3.60596 4.05559 3.484 4.04684 3.35986 4.04684C1.91058 4.04684 0.734863 5.22262 0.734863 6.67184C0.734863 8.12112 1.91064 9.29684 3.35986 9.29684H10.2138C11.9042 9.29684 13.2763 7.92473 13.2763 6.23434C13.2763 4.54396 11.9042 3.17184 10.2138 3.17184C10.1274 3.17184 10.0416 3.17513 9.95682 3.18223C9.3897 2.13442 8.28004 1.42188 7.0059 1.42188C5.3959 1.42188 4.04955 2.55821 3.72573 4.072ZM3.94666 5.02302C4.07682 5.06896 4.22064 5.05146 4.33548 4.97544C4.45032 4.89943 4.52251 4.77365 4.53017 4.63583C4.6029 3.33263 5.68407 2.29741 7.00537 2.29741C8.03787 2.29741 8.92323 2.9296 9.29619 3.82817C9.37603 4.02067 9.58111 4.12949 9.78564 4.08958C9.92455 4.06224 10.0673 4.04747 10.2138 4.04747C11.4213 4.04747 12.4013 5.02747 12.4013 6.23497C12.4013 7.44247 11.4213 8.42247 10.2138 8.42247H3.35986C2.39409 8.42247 1.60986 7.63825 1.60986 6.67247C1.60986 5.70669 2.39409 4.92247 3.35986 4.92247C3.56604 4.92247 3.76346 4.95802 3.94666 5.02364V5.02302Z" fill="#B3B3B3" />
                        <path fillRule="evenodd" clipRule="evenodd" d="M7.00588 10.1719C6.20088 10.1719 5.54736 10.8254 5.54736 11.6304C5.54736 12.4354 6.20088 13.0889 7.00588 13.0889C7.81088 13.0889 8.4644 12.4354 8.4644 11.6304C8.4644 10.8254 7.81088 10.1719 7.00588 10.1719ZM7.00588 11.0469C7.328 11.0469 7.5894 11.3083 7.5894 11.6304C7.5894 11.9525 7.328 12.2139 7.00588 12.2139C6.68377 12.2139 6.42236 11.9525 6.42236 11.6304C6.42236 11.3083 6.68377 11.0469 7.00588 11.0469Z" fill="#B3B3B3" />
                        <path fillRule="evenodd" clipRule="evenodd" d="M6.56836 8.85938V10.6094C6.56836 10.8511 6.76414 11.0469 7.00586 11.0469C7.24758 11.0469 7.44336 10.8511 7.44336 10.6094V8.85938C7.44336 8.61765 7.24758 8.42188 7.00586 8.42188C6.76414 8.42188 6.56836 8.61765 6.56836 8.85938Z" fill="#B3B3B3" />
                        <path fillRule="evenodd" clipRule="evenodd" d="M8.02686 12.0703H11.5269C11.7686 12.0703 11.9644 11.8745 11.9644 11.6328C11.9644 11.3911 11.7686 11.1953 11.5269 11.1953H8.02686C7.78513 11.1953 7.58936 11.3911 7.58936 11.6328C7.58936 11.8745 7.78513 12.0703 8.02686 12.0703Z" fill="#B3B3B3" />
                        <path fillRule="evenodd" clipRule="evenodd" d="M2.48486 12.0703H5.98486C6.22659 12.0703 6.42236 11.8745 6.42236 11.6328C6.42236 11.3911 6.22659 11.1953 5.98486 11.1953H2.48486C2.24314 11.1953 2.04736 11.3911 2.04736 11.6328C2.04736 11.8745 2.24314 12.0703 2.48486 12.0703Z" fill="#B3B3B3" />
                      </g>
                      <defs>
                        <clipPath id="clip0_3725_5585">
                          <rect width="14" height="14" fill="white" transform="translate(0.00585938 0.257812)" />
                        </clipPath>
                      </defs>
                    </svg>}
                  {activeTab === "1" ?
                    <Text_14_600_EEEEEE >
                      Profile</Text_14_600_EEEEEE>
                    :
                    <Text_14_600_B3B3B3 >Profile</Text_14_600_B3B3B3>
                  }
                </div>,
                key: '1',
                children: <Profile />
              },
              {
                label: <div className="flex items-center gap-[0.375rem]">
                  {activeTab === '2' ?
                    <div className="mt-[.1rem]">
                      <svg width=".875rem" height=".875rem" viewBox="0 0 14 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fillRule="evenodd" clipRule="evenodd" d="M2.0838 1.94283C2.0838 1.64557 2.32477 1.4046 2.62203 1.4046H8.63498C8.77773 1.4046 8.91463 1.4613 9.01557 1.56224L11.6144 4.16108C11.7153 4.26202 11.772 4.39892 11.772 4.54167V12.7076C11.772 13.0048 11.5311 13.2458 11.2338 13.2458H2.62203C2.32477 13.2458 2.0838 13.0048 2.0838 12.7076V1.94283ZM2.62203 0.328125C1.73025 0.328125 1.00732 1.05105 1.00732 1.94283V12.7076C1.00732 13.5993 1.73025 14.3223 2.62203 14.3223H11.2338C12.1256 14.3223 12.8485 13.5993 12.8485 12.7076V4.54167C12.8485 4.11342 12.6784 3.70271 12.3756 3.3999L9.77675 0.801061C9.47393 0.498245 9.06322 0.328125 8.63498 0.328125H2.62203ZM3.69864 3.55469C3.40138 3.55469 3.1604 3.79566 3.1604 4.09292C3.1604 4.39018 3.40138 4.63116 3.69864 4.63116H6.92805C7.22531 4.63116 7.46629 4.39018 7.46629 4.09292C7.46629 3.79566 7.22531 3.55469 6.92805 3.55469H3.69864ZM3.69864 6.7841C3.40138 6.7841 3.1604 7.02508 3.1604 7.32234C3.1604 7.6196 3.40138 7.86058 3.69864 7.86058H10.1575C10.4547 7.86058 10.6957 7.6196 10.6957 7.32234C10.6957 7.02508 10.4547 6.7841 10.1575 6.7841H3.69864ZM3.69864 10.0135C3.40138 10.0135 3.1604 10.2545 3.1604 10.5518C3.1604 10.849 3.40138 11.09 3.69864 11.09H10.1575C10.4547 11.09 10.6957 10.849 10.6957 10.5518C10.6957 10.2545 10.4547 10.0135 10.1575 10.0135H3.69864Z" fill="#EEEEEE" />
                      </svg>
                    </div> :
                    <div className="mt-[.1rem]">
                      <svg width=".875rem" height=".875rem" viewBox="0 0 14 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path fillRule="evenodd" clipRule="evenodd" d="M2.0838 1.94283C2.0838 1.64557 2.32477 1.4046 2.62203 1.4046H8.63498C8.77773 1.4046 8.91463 1.4613 9.01557 1.56224L11.6144 4.16108C11.7153 4.26202 11.772 4.39892 11.772 4.54167V12.7076C11.772 13.0048 11.5311 13.2458 11.2338 13.2458H2.62203C2.32477 13.2458 2.0838 13.0048 2.0838 12.7076V1.94283ZM2.62203 0.328125C1.73025 0.328125 1.00732 1.05105 1.00732 1.94283V12.7076C1.00732 13.5993 1.73025 14.3223 2.62203 14.3223H11.2338C12.1256 14.3223 12.8485 13.5993 12.8485 12.7076V4.54167C12.8485 4.11342 12.6784 3.70271 12.3756 3.3999L9.77675 0.801061C9.47393 0.498245 9.06322 0.328125 8.63498 0.328125H2.62203ZM3.69864 3.55469C3.40138 3.55469 3.1604 3.79566 3.1604 4.09292C3.1604 4.39018 3.40138 4.63116 3.69864 4.63116H6.92805C7.22531 4.63116 7.46629 4.39018 7.46629 4.09292C7.46629 3.79566 7.22531 3.55469 6.92805 3.55469H3.69864ZM3.69864 6.7841C3.40138 6.7841 3.1604 7.02508 3.1604 7.32234C3.1604 7.6196 3.40138 7.86058 3.69864 7.86058H10.1575C10.4547 7.86058 10.6957 7.6196 10.6957 7.32234C10.6957 7.02508 10.4547 6.7841 10.1575 6.7841H3.69864ZM3.69864 10.0135C3.40138 10.0135 3.1604 10.2545 3.1604 10.5518C3.1604 10.849 3.40138 11.09 3.69864 11.09H10.1575C10.4547 11.09 10.6957 10.849 10.6957 10.5518C10.6957 10.2545 10.4547 10.0135 10.1575 10.0135H3.69864Z" fill="#B3B3B3" />
                      </svg>
                    </div>
                  }
                  {activeTab === "2" ?
                    <Text_14_600_EEEEEE >
                      Notifications</Text_14_600_EEEEEE>
                    :
                    <Text_14_600_B3B3B3 >Notifications</Text_14_600_B3B3B3>
                  }
                </div>,
                key: '2',
                children: <Notifications />
              },
            ]}
          />
        </div>
      </div>
    </DashBoardLayout>
  );
}
